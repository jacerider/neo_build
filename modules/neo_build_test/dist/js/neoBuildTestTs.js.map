{"version":3,"file":"neoBuildTestTs.js","sources":["../../src/js/neoBuildTestTs.ts"],"sourcesContent":["console.log('Neo Vite Dev: Success');\n\nconst init = async () => {\n  // @ts-ignore\n  await import('../../lib/cdn.min.js').then(() => {\n    // @todo - this path should be dynamically supplied. It will also not be\n    // available in production without running `drush vite` first.\n    fetch('/api/neo/vite.config.json')\n      .then((response) => response.json())\n      .then((viteConfig) => {\n        const htmlContent = document.querySelector('.neo-build-test')?.outerHTML ?? '';\n        const tailwind = createTailwindcss({\n          tailwindConfig: Object.assign({\n            corePlugins: { preflight: false }\n          }, viteConfig.tailwind),\n        });\n\n        tailwind.generateStylesFromContent(`\n          @tailwind components;\n          @tailwind utilities;\n        `, [htmlContent]).then((css:string) => {\n          const node = document.createElement('pre');\n          node.innerHTML = '<br><hr><br>' + css\n          document.querySelector('.neo-build-test--jit')?.appendChild(node);\n        });\n\n      });\n  });\n}\ninit();\n\n(function (Drupal, once) {\n\n  Drupal.behaviors.neoBuildTest = {};\n\n  Drupal.behaviors.neoBuildTest.attach = (context:HTMLElement) => {\n    once('neoBase', '.neo-build-test--dynamic', context).forEach(el => {\n      el.innerHTML = '<div class=\"neo-build-test--js bg-green-500 border-4 border-green-700 text-white p-2 mt-2 rounded\">This should be in green. (injected via js)<div class=\"neo-build-test--css\">This should be purple. (styled with css)<div class=\"neo-build-test--jit\">JIT Compiling</div></div></div>';\n    });\n  }\n\n})(Drupal, once);\n\nexport {};\n"],"names":["init","response","viteConfig","_a","htmlContent","css","node","Drupal","once","context","el"],"mappings":"AAAA,QAAQ,IAAI,uBAAuB;AAEnC,MAAMA,IAAO,YAAY;AAEvB,QAAM,OAAO,mBAAsB,EAAE,KAAK,MAAM;AAGxC,UAAA,2BAA2B,EAC9B,KAAK,CAACC,MAAaA,EAAS,MAAM,EAClC,KAAK,CAACC,MAAe;AAT5B,UAAAC;AAUQ,YAAMC,MAAcD,IAAA,SAAS,cAAc,iBAAiB,MAAxC,gBAAAA,EAA2C,cAAa;AAO5E,MANiB,kBAAkB;AAAA,QACjC,gBAAgB,OAAO,OAAO;AAAA,UAC5B,aAAa,EAAE,WAAW,GAAM;AAAA,QAAA,GAC/BD,EAAW,QAAQ;AAAA,MAAA,CACvB,EAEQ,0BAA0B;AAAA;AAAA;AAAA,WAGhC,CAACE,CAAW,CAAC,EAAE,KAAK,CAACC,MAAe;AApB/C,YAAAF;AAqBgB,cAAAG,IAAO,SAAS,cAAc,KAAK;AACzC,QAAAA,EAAK,YAAY,iBAAiBD,IAClCF,IAAA,SAAS,cAAc,sBAAsB,MAA7C,QAAAA,EAAgD,YAAYG;AAAA,MAAI,CACjE;AAAA,IAAA,CAEF;AAAA,EAAA,CACJ;AACH;AACAN;CAEC,SAAUO,GAAQC,GAAM;AAEvBD,EAAAA,EAAO,UAAU,eAAe,IAEhCA,EAAO,UAAU,aAAa,SAAS,CAACE,MAAwB;AAC9DD,IAAAA,EAAK,WAAW,4BAA4BC,CAAO,EAAE,QAAQ,CAAMC,MAAA;AACjE,MAAAA,EAAG,YAAY;AAAA,IAAA,CAChB;AAAA,EAAA;AAGL,GAAG,QAAQ,IAAI;"}